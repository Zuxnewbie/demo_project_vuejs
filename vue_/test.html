<template>
    <div class="home">
      <div id="background-div" class="page-holder bg-cover">
        <hr />
      </div>
      <div class="container">
        <div class="row">
          <div class="col-12 text-left">
            <h2 class="pt-3 text-center">Top Categories</h2>
          </div>
        </div>
        <div class="row">
          <div
            v-for="index in this.categorySize"
            :key="index"
            class="col-md-6 col-xl-4 col-12 pt-3 justify-content-around d-flex"
          >
            <CategoryBox :category="categories[index - 1]" />
          </div>
        </div>
      </div>
      <!-- Hiển thị top product -->
      <hr />
      <div class="container py-2">
        <div class="row">
          <div class="col-12 text-left">
            <h2 class="pt-3 text-center">Top Product</h2>
          </div>
        </div>
        <div class="row">
          <div
            v-for="index in this.productSize"
            :key="index"
            class="col-md-6 col-xl-4 col-12 pt-3 justify-content-around d-flex"
          >
            <ProductBox :product="products[index - 1]" />
          </div>
        </div>
      </div>
    </div>
  </template>
  
  <script>
  import CategoryBox from "../components/Category/CategoryBox.vue";
  import ProductBox from "../components/ProductBox.vue";
  
  export default {
    name: "HomeView",
    components: { CategoryBox, ProductBox },
    props: ["categories", "products"],
    data() {
      return {
        categorySize: 0,
        productSize: 0,
      };
    },
    mounted() {
      this.categorySize = Math.min(6, this.categories.length);
      this.productSize = Math.min(8, this.products.length);
    },
  };
  </script>
  
  <style></style>
  